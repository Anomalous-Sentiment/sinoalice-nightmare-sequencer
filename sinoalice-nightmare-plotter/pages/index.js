import Head from 'next/head'
import Image from 'next/image'
import { useState } from 'react';
import styles from '../styles/Home.module.css'
import NightmareImageList from './nightmare-image-list'

export default function Home() {
  const [nightmares, updateNightmares] = useState(null)

  function getNightmares()
  {
    fetch("http://localhost:3000/api/nightmares")
    .then(response => response.json())
    .then((json) => {
      console.log(json["nightmares"])
      updateNightmares(json["nightmares"])
    });
  }



  return (
    <div className={styles.container}>
      <Head>
        <title>SINoALICE Nightmare Plotter</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/alice.ico" />
      </Head>
      <button type="button" onClick={getNightmares}>Fetch Nightmares</button> 
      <NightmareImageList list={nightmares}/>
    </div>

  )
}
